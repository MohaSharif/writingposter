<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<title>المهارات المتقدمة لصنّاع المستقبل | Advanced AI Skills for Future Innovators</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="description" content="خريطة طريق متوهجة توضح العناقيد المتقدمة للمهارات، مع تنظيم واضح لعناوين العناقيد والمهارات دون تداخل.">
<style>
:root{
  --bg:#1A093F;
  --path:#00FFB3;
  --planet:#A86EFF;
  --moon:#FFD44D;
  --text:#FFFFFF;
  --title:#FFD44D;
  --ratio-w:420; /* A2 افتراضي */
  --ratio-h:594;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans Arabic","Tajawal","Cairo",Arial,sans-serif}
.wrap{min-height:100svh;display:flex;align-items:center;justify-content:center;padding:24px;
  background:
    radial-gradient(1200px 800px at 10% 90%, #2a1466 0%, transparent 60%),
    radial-gradient(1000px 700px at 90% 10%, #210d57 0%, transparent 55%),
    radial-gradient(800px 800px at 50% 50%, #14063b 0%, transparent 65%),
    repeating-linear-gradient(90deg, rgba(255,255,255,.05) 0 1px, transparent 1px 80px),
    repeating-linear-gradient(0deg, rgba(255,255,255,.04) 0 1px, transparent 1px 80px),
    var(--bg);
}
.poster{
  width:min(100%,1200px);
  aspect-ratio:var(--ratio-w)/var(--ratio-h);
  position:relative;border-radius:24px;overflow:hidden;
  box-shadow:0 0 0 1px rgba(255,255,255,.08), 0 20px 80px rgba(0,0,0,.5);
  background: radial-gradient(120% 120% at 50% 100%, rgba(168,110,255,.15), transparent 40%) var(--bg);
  isolation:isolate;
}
/* العنوان */
.title{position:absolute;inset:24px 24px auto 24px;text-align:center;z-index:4;pointer-events:none;
  text-shadow:0 0 12px rgba(255,212,77,.35), 0 0 30px rgba(168,110,255,.2)}
.title h1{margin:0 0 6px;font-weight:800;letter-spacing:.3px;line-height:1.15;
  font-size: clamp(24px, 3.2vw, 42px);color:var(--title);
  filter: drop-shadow(0 0 10px rgba(255,212,77,.25))}
.title h2{margin:6px 0 8px;font-weight:700;font-size:clamp(14px,1.6vw,18px);opacity:.95}
.title p{margin:0;font-size:clamp(12px,1.4vw,16px);opacity:.9}

/* CTA */
.cta{position:absolute;inset:auto 0 0 0;z-index:4;
  background:linear-gradient(180deg, transparent, rgba(0,0,0,.35) 30%, rgba(0,0,0,.7));
  padding:16px 20px 18px;display:flex;gap:12px;justify-content:center;align-items:center;
  border-top:1px solid rgba(255,255,255,.08);backdrop-filter:blur(4px)}
.cta .chip{border:1px solid rgba(255,255,255,.15);border-radius:999px;padding:8px 14px;font-weight:700;
  background: radial-gradient(60% 180% at 50% 0%, rgba(255,212,77,.08), rgba(168,110,255,.08));
  text-shadow:0 0 8px rgba(255,212,77,.15)}

/* الرسم */
svg{position:absolute;inset:0;width:100%;height:100%;display:block;z-index:1}
.path{stroke:var(--path);stroke-width:8;fill:none;filter: drop-shadow(0 0 12px rgba(0,255,179,.55)) drop-shadow(0 0 30px rgba(0,255,179,.35));stroke-linecap:round}
.path-flow{stroke:var(--path);stroke-width:2.5;fill:none;opacity:.9;stroke-dasharray:14 10;animation:flow 5s linear infinite;filter: drop-shadow(0 0 6px rgba(0,255,179,.65))}
@keyframes flow{to{stroke-dashoffset:-500}}

.planet{filter: drop-shadow(0 0 18px rgba(168,110,255,.7)) drop-shadow(0 0 36px rgba(168,110,255,.4))}
.planet circle.core{fill:url(#planet-grad)}
.orbit{stroke: rgba(255,255,255,.12);stroke-width:1.25;fill:none}

.moon{fill:var(--moon);filter: drop-shadow(0 0 14px rgba(255,212,77,.6))}
.moon.pulse{animation:pulse 2.4s ease-in-out infinite;transform-origin:center}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.08)}}

/* بادج عنوان العنقود */
.badge text{font-weight:900;font-size:14px;fill:#0b0820}
.badge rect{fill:#FFD44D;stroke:#FFF2B3;stroke-width:1;rx:10;ry:10;filter: drop-shadow(0 0 12px rgba(255,212,77,.35))}

/* صندوق عنوان المهارة */
.skill-label{text-rendering:optimizeLegibility}
.skill-label rect.label-box{fill:rgba(0,0,0,.38);stroke:rgba(255,255,255,.22);stroke-width:1;rx:8;ry:8;backdrop-filter:blur(2px)}
.skill-label text{font-weight:800;font-size:12px;fill:#fff}
.skill-label .en{font-weight:700;opacity:.9}
.connector{stroke:rgba(255,255,255,.25);stroke-width:1.25}

.label-shadow{filter: drop-shadow(0 3px 10px rgba(0,0,0,.5))}

.stars g circle{fill:rgba(255,255,255,.9)}
.stars g circle.dim{opacity:.45}.stars g circle.tiny{r:.75}.stars g circle.mid{r:1.2}.stars g circle.big{r:1.8}

@media(max-width:800px){
  .skill-label text{font-size:11px}
  .badge text{font-size:13px}
}
</style>
</head>
<body>
<div class="wrap">
  <main class="poster" id="poster">
    <header class="title">
      <h1>المهارات المتقدمة لصنّاع المستقبل</h1>
      <h2>Advanced AI Skills for Future Innovators</h2>
      <p>ارتقِ بمهاراتك من الأساس إلى الاحتراف، واستعد لصناعة المستقبل.</p>
    </header>

    <svg viewBox="0 0 1200 1700" aria-label="خريطة طريق متوهجة بأربع محطات">
      <defs>
        <radialGradient id="planet-grad" cx="50%" cy="45%" r="65%">
          <stop offset="0%" stop-color="#E2D2FF"/><stop offset="35%" stop-color="#C5A9FF"/><stop offset="100%" stop-color="#A86EFF"/>
        </radialGradient>
        <filter id="soft" x="-20%" y="-20%" width="140%" height="140%"><feGaussianBlur stdDeviation="0.6"/></filter>
      </defs>

      <!-- نجوم خفيفة -->
      <g class="stars" opacity=".65" filter="url(#soft)">
        <g>
          <circle class="tiny" cx="80" cy="140" r="1"/><circle class="mid" cx="220" cy="200" r="1.2"/>
          <circle class="dim big" cx="360" cy="90" r="1.8"/><circle class="tiny" cx="540" cy="180" r="1"/>
          <circle class="mid" cx="980" cy="130" r="1.2"/><circle class="tiny" cx="1100" cy="220" r="1"/>
          <circle class="mid" cx="1080" cy="480" r="1.2"/><circle class="tiny" cx="160" cy="540" r="1"/>
          <circle class="mid" cx="300" cy="820" r="1.2"/><circle class="big" cx="1020" cy="900" r="1.8"/>
          <circle class="tiny" cx="400" cy="1180" r="1"/><circle class="mid" cx="860" cy="1300" r="1.2"/>
          <circle class="tiny" cx="150" cy="1500" r="1"/><circle class="tiny" cx="1140" cy="1580" r="1"/>
        </g>
      </g>

      <!-- مسار التعلم -->
      <path id="learning-path"
            d="M 90 1580
               C 280 1420, 360 1220, 520 1040
               S 820 760, 940 560
               S 1040 320, 1120 160"
            class="path"/>
      <path d="M 90 1580
               C 280 1420, 360 1220, 520 1040
               S 820 760, 940 560
               S 1040 320, 1120 160"
            class="path-flow"/>

      <g id="clusters"></g>
    </svg>

    <footer class="cta"><span class="chip">تعلّم، ابتكر، قد المستقبل ✦ Learn, Innovate, Lead</span></footer>
  </main>
</div>

<script>
// تبديل النسبة عبر باراميتر ?size=45 أو ?size=169
(function(){
  const p = new URLSearchParams(location.search);
  const size = p.get('size'), r = document.documentElement.style;
  if(size==='45'){ r.setProperty('--ratio-w','4'); r.setProperty('--ratio-h','5'); }
  else if(size==='169'){ r.setProperty('--ratio-w','16'); r.setProperty('--ratio-h','9'); }
})();

const clusters = [
  { t:.18, nameAr:"الذكاء الاصطناعي المتقدم", nameEn:"Advanced AI", emoji:"🤖",
    skills:[
      {emoji:"🧩", ar:"هندسة النماذج المصغّرة", en:"Model Customization"},
      {emoji:"🧠", ar:"محو الأمية في تعلم الآلة", en:"ML Literacy"},
      {emoji:"🔍", ar:"التفاعل العميق مع النماذج", en:"AI Query Mastery"},
      {emoji:"🖼️", ar:"الذكاء متعدد الوسائط", en:"Multimodal AI"},
    ]},
  { t:.40, nameAr:"المهارات المستقبلية الناشئة", nameEn:"Next-Gen Skills", emoji:"🚀",
    skills:[
      {emoji:"🌐", ar:"التوأم الرقمي", en:"Digital Twin Thinking"},
      {emoji:"⚡", ar:"تفكير معزّز بالذكاء", en:"AI-Augmented Thinking"},
      {emoji:"🛠️", ar:"الهندسة العكسية للذكاء", en:"AI Reverse Engineering"},
      {emoji:"🎨", ar:"الأتمتة الإبداعية", en:"Creative Automation"},
    ]},
  { t:.64, nameAr:"القيادة والابتكار", nameEn:"Leadership & Innovation", emoji:"🌟",
    skills:[
      {emoji:"💡", ar:"ابتكار المنتجات المعززة", en:"AI-Powered Product Innovation"},
      {emoji:"💸", ar:"الاقتصاد التوليدي", en:"Generative Economy"},
      {emoji:"🧭", ar:"القيادة الرقمية", en:"Digital Leadership"},
      {emoji:"🧩", ar:"إدارة الفرق الهجينة", en:"Hybrid Workforce Management"},
    ]},
  { t:.86, nameAr:"الحوكمة والأخلاقيات", nameEn:"Ethics & Governance", emoji:"⚖️",
    skills:[
      {emoji:"🛡️", ar:"ذكاء اصطناعي أخلاقي", en:"Ethical AI"},
      {emoji:"🌍", ar:"مواطنة رقمية مسؤولة", en:"Responsible Digital Citizenship"},
      {emoji:"🌱", ar:"الاستدامة الرقمية", en:"Digital Sustainability"},
      {emoji:"🚨", ar:"إدارة المخاطر المستقبلية", en:"Future Risk Management"},
    ]},
];

const svg = document.querySelector('svg');
const path = document.getElementById('learning-path');
const host = document.getElementById('clusters');

function pointAt(t){
  const L = path.getTotalLength();
  const p = path.getPointAtLength(L*t);
  return {x:p.x, y:p.y};
}
function tangentAt(t){
  const L = path.getTotalLength();
  const eps = 2 / L;
  const p1 = path.getPointAtLength(L*Math.max(0,t-eps));
  const p2 = path.getPointAtLength(L*Math.min(1,t+eps));
  let dx = p2.x - p1.x, dy = p2.y - p1.y;
  const m = Math.hypot(dx,dy) || 1; dx/=m; dy/=m;
  return {x:dx, y:dy}; // اتجاه المسار
}
function normalFrom(tan){ // عمودي للخارج (اختيارياً نعكس حسب موضع المسار)
  return {x:-tan.y, y:tan.x};
}
function mk(tag){ return document.createElementNS(svg.namespaceURI, tag); }

const labelGroups=[]; // لتجنّب التصادم

function addCluster(c){
  const pos = pointAt(c.t);
  const tan = tangentAt(c.t);
  const nrm = normalFrom(tan);

  const g = mk('g'); g.setAttribute('class','cluster');

  // الكوكب + المدار
  const planetG = mk('g'); planetG.setAttribute('class','planet');
  const core = mk('circle'); core.setAttribute('class','core');
  core.setAttribute('cx',pos.x); core.setAttribute('cy',pos.y); core.setAttribute('r',44);
  const orbit = mk('circle'); orbit.setAttribute('class','orbit'); orbit.setAttribute('cx',pos.x); orbit.setAttribute('cy',pos.y); orbit.setAttribute('r',86);
  planetG.append(core, orbit);

  // بادج عنوان العنقود (يوضع في اتجاه العمودي للخارج)
  const badge = mk('g'); badge.setAttribute('class','badge label-shadow');
  const badgeText = mk('text'); badgeText.setAttribute('text-anchor','middle');
  badgeText.textContent = `${c.emoji}  ${c.nameAr} | ${c.nameEn}`;
  // نحسب مكان البادج
  const bx = pos.x + nrm.x*130, by = pos.y + nrm.y*130;
  badgeText.setAttribute('x', bx); badgeText.setAttribute('y', by+4);
  // بعد إدراج النص نحسب صندوقه
  // سنضيف مؤقتًا ثم نقيس
  badge.appendChild(badgeText);
  g.appendChild(planetG);
  g.appendChild(badge);
  host.appendChild(g);
  const bb = badgeText.getBBox();
  const padX=14, padY=8;
  const rect = mk('rect');
  rect.setAttribute('x', bb.x-padX);
  rect.setAttribute('y', bb.y-padY);
  rect.setAttribute('width', bb.width+padX*2);
  rect.setAttribute('height', bb.height+padY*2);
  badge.insertBefore(rect, badgeText);

  // توزيع المهارات: زوايا نسبية حول اتجاه العمودي للخارج
  // يتم وضع القمر على المدار، والليبل خارج المدار بمسافة أكبر
  const baseAngle = Math.atan2(nrm.y, nrm.x);
  const offsetsDeg = [-40, -10, 20, 55]; // تباعد محسّن
  const R = 86, labelR = 150; // نصف قطر للقمر، وآخر للصندوق

  c.skills.forEach((s,i)=>{
    const ang = baseAngle + offsetsDeg[i]*Math.PI/180;
    const mx = pos.x + R*Math.cos(ang);
    const my = pos.y + R*Math.sin(ang);

    // القمر
    const moon = mk('circle'); moon.setAttribute('class','moon pulse');
    moon.setAttribute('cx',mx); moon.setAttribute('cy',my); moon.setAttribute('r',12);
    g.appendChild(moon);

    // نقطة وجهة الليبل
    const lx = pos.x + labelR*Math.cos(ang);
    const ly = pos.y + labelR*Math.sin(ang);

    // خط رابط
    const line = mk('line'); line.setAttribute('class','connector');
    line.setAttribute('x1', mx); line.setAttribute('y1', my);
    line.setAttribute('x2', lx); line.setAttribute('y2', ly);
    g.appendChild(line);

    // مجموعة الليبل (صندوق + نص ثنائي الأسطر)
    const L = mk('g'); L.setAttribute('class','skill-label label-shadow');
    // مستطيل خلفي يُحدد لاحقًا بعد قياس النص
    const box = mk('rect'); box.setAttribute('class','label-box');
    const txt = mk('text');
    // سطر عربي
    const t1 = mk('tspan'); t1.setAttribute('x', 0); t1.setAttribute('dy', 0);
    t1.textContent = `${s.emoji}  ${s.ar}`;
    // سطر إنجليزي
    const t2 = mk('tspan'); t2.setAttribute('x', 0); t2.setAttribute('dy', 14);
    t2.setAttribute('class','en');
    t2.textContent = s.en;

    txt.appendChild(t1); txt.appendChild(t2);
    L.append(box, txt);
    host.appendChild(L);

    // قياس حجم النص وتوسيط المجموعة حول (lx,ly)
    const tb = txt.getBBox(); const padX=10, padY=8;
    box.setAttribute('x', tb.x - padX); box.setAttribute('y', tb.y - padY);
    box.setAttribute('width', tb.width + padX*2); box.setAttribute('height', tb.height + padY*2);

    // نريد مركز المجموعة عند (lx,ly) ⇒ ننقل المجموعة
    const gb = L.getBBox();
    const gx = lx - (gb.x + gb.width/2);
    const gy = ly - (gb.y + gb.height/2);
    L.setAttribute('transform', `translate(${gx},${gy})`);

    // خزّن للمصادمة
    labelGroups.push({node:L, vx:0, vy:0});
  });
}

// رسم كل العناقيد
clusters.forEach(addCluster);

// مصادم بسيط يدفع الصناديق بعيدًا لو تداخلت
function resolveCollisions(iterations=80){
  const bbox = n => n.getBBox();
  for(let k=0;k<iterations;k++){
    let moved=false;
    for(let i=0;i<labelGroups.length;i++){
      for(let j=i+1;j<labelGroups.length;j++){
        const bi = bbox(labelGroups[i].node);
        const bj = bbox(labelGroups[j].node);
        // تحقّق من التداخل
        if(!(bi.x+bi.width < bj.x || bj.x+bj.width < bi.x || bi.y+bi.height < bj.y || bj.y+bj.height < bi.y)){
          moved=true;
          // ازاحة لطيفة عمودية أكثر من أفقية لتقليل تغيّر الترتيب
          const dx = (bi.x+bi.width/2) - (bj.x+bj.width/2);
          const dy = (bi.y+bi.height/2) - (bj.y+bj.height/2);
          const pushX = (dx>0? 6 : -6);
          const pushY = (dy>0? 10: -10);
          const gi = labelGroups[i].node, gj = labelGroups[j].node;

          const trI = gi.transform.baseVal.consolidate()?.matrix;
          const trJ = gj.transform.baseVal.consolidate()?.matrix;
          const txI = trI? trI.e : 0, tyI = trI? trI.f : 0;
          const txJ = trJ? trJ.e : 0, tyJ = trJ? trJ.f : 0;

          gi.setAttribute('transform', `translate(${txI+pushX},${tyI+pushY})`);
          gj.setAttribute('transform', `translate(${txJ-pushX},${tyJ-pushY})`);
        }
      }
    }
    if(!moved) break;
  }
}
resolveCollisions();

</script>
</body>
</html>
