<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>5 ุจุฑููุจุชุงุช ุฎุงุฑูุฉ ูุชูุฌูุฑ ุทุงูุชู ูุชุฎุทู ุนูุจุงุชู ุงูุฐูููุฉ</title>
  <meta name="description" content="ุจูุณุชุฑ ุฅูููุบุฑุงููู ุนุตุฑู ูุฌุฐุงุจ ูููุดุฑ ุนูู ุงูุณูุดุงู ููุฏูุง ุฃู ุงูุทุจุงุนุฉุ ูุญุชูู ุนูู 5 ุจุฑููุจุชุงุช ูููุฉ ูุงุฎุชุฑุงู ุงูุนูุงุฆู ุงูุฐูููุฉ.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800;900&family=Tajawal:wght@400;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{
      --bg-gradient: linear-gradient(135deg, #2B1743 0%, #0A0F29 100%);
      --title-color: #FFD44D;
      --icon-color: #FF3E6C;
      --text-color: #FFFFFF;
      --highlight: #5DD8FF;
    }
    html, body {height:100%}
    body {font-family: 'Cairo', 'Tajawal', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background: var(--bg-gradient); color: var(--text-color);}    
    .card {background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(10px); box-shadow: 0 8px 30px rgba(0,0,0,0.3); transition: transform 0.3s ease, box-shadow 0.3s ease;}
    .card:hover {transform: translateY(-6px); box-shadow: 0 12px 40px rgba(0,0,0,0.5);}    
    .glow-title {text-shadow: 0 0 10px rgba(255,212,77,.7), 0 0 20px rgba(255,212,77,.5);}    
    /* Canvas sized artboard for pixel-perfect PNG (1080x1350) */
    #poster {width:1080px; height:1350px;}
  </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4">
  <!-- Toolbar -->
  <div class="no-print sticky top-0 z-50 w-full max-w-5xl mb-3">
    <div class="flex flex-wrap items-center gap-3 rounded-2xl bg-white/10 backdrop-blur border border-white/20 p-3">
      <button id="downloadPng" class="px-5 py-2 rounded-xl text-white font-bold text-base" style="background-color:#FF3E6C;">โฌ๏ธ ุชุญููู ุงูุจูุณุชุฑ ูุตูุฑุฉ (PNG)</button>
      <button id="downloadJpg" class="px-5 py-2 rounded-xl text-white font-bold text-base" style="background-color:#10b981;">โฌ๏ธ JPG</button>
      <button id="selfTest" class="px-4 py-2 rounded-xl text-white font-semibold text-base" style="background-color:#6366f1;">๐งช ุงุฎุชุจุงุฑ ุณุฑูุน</button>
      <span id="libStatus" class="text-white/80 text-sm ml-auto">ุงููุญุฑูู: ุฌุงุฑู ุงููุญุตโฆ</span>
    </div>
  </div>

  <!-- Artboard -->
  <main id="poster" class="mx-auto flex flex-col items-center p-8 rounded-[28px]" style="background: var(--bg-gradient); color: var(--text-color);">
    <!-- Header -->
    <header class="text-center mb-12">
      <h1 class="text-5xl md:text-6xl font-extrabold glow-title" style="color: var(--title-color)">5 ุจุฑููุจุชุงุช ุฎุงุฑูุฉ ูุชูุฌูุฑ ุทุงูุชู ูุชุฎุทู ุนูุจุงุชู ุงูุฐูููุฉ</h1>
      <p class="mt-4 max-w-2xl mx-auto text-lg opacity-90">ุจุงุณุชุฎุฏุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ููุฏุฑุจ ุดุฎุตูุ ุณุชูุงุฌู ุฐุงุชูุ ุชุนูุฏ ูุชุงุจุฉ ุฃุฎุทุงุฆู ูุญูุงูุฒุ ุชุจูู ุงูุถุจุงุทูุง ุญุฏูุฏููุงุ ูุชุณูุน ุงูุญูููุฉ ูู ูุณุฎุฉ ููุณู ุงููุณุชูุจููุฉ.</p>
    </header>

    <!-- Prompts -->
    <section class="grid grid-cols-1 gap-8 max-w-3xl w-full">
      <!-- Prompt 1 -->
      <div class="card p-6 rounded-2xl">
        <div class="flex items-center gap-4 mb-3">
          <span class="text-4xl" style="color: var(--icon-color)">๐ช</span>
          <h3 class="text-2xl font-bold" style="color: var(--highlight)">ููุงุฌูุฉ ุฐุงุชู ุงููุณุชูุจููุฉ</h3>
        </div>
        <p class="text-base leading-relaxed">"ุชุตุฑูู ูุฃูู ุฃูุง ุจุนุฏ ุฎูุณ ุณููุงุช. ุงุทุฑุญ ุนูููู 8 ุฃุณุฆูุฉ ุนูููุฉ ูุงูุชุดุงู ูุถุนู ุงูุญุงูู ูุฃููููุงุชู ูููุงุท ุถุนูู. ุจุนุฏ ุฐููุ ูุฏูู ุชุญููููุง ุตุฑูุญูุง ุญูู ุงูุนุงุฆู ุงูุฐููู ุงูุฃูุจุฑ ุงูุฐู ูููุน ุชูุฏููุ ูุตูุบ ูู ุฎุทุฉ ุนูููุฉ ูุงุถุญุฉ ูุชุบููุฑู."</p>
      </div>

      <!-- Prompt 2 -->
      <div class="card p-6 rounded-2xl">
        <div class="flex items-center gap-4 mb-3">
          <span class="text-4xl" style="color: var(--icon-color)">๐</span>
          <h3 class="text-2xl font-bold" style="color: var(--highlight)">ุชุญููู ุงููุดู ุฅูู ุฏุงูุน</h3>
        </div>
        <p class="text-base leading-relaxed">"ุชุตุฑูู ููุฏุฑู ููููู ุงูุดุฎุตู. ุงุณุฃููู 6 ุฃุณุฆูุฉ ูููู ุฃุณุจุงุจ ูุดูู ูู ุงููููู ุฃู ุงููุดุฑูุน. ุจุนุฏ ุฐููุ ุฃุนุฏ ุตูุงุบุฉ ุงููุดู ูุญูููุฉ ูุญููุฒุฉุ ููุฏูู ูู ุฎุทุฉ ูุฎุชุตุฑุฉ ูู 3 ุฎุทูุงุช ุนูููุฉ ูุชุญููู ุงูุชุฌุฑุจุฉ ุฅูู ุทุงูุฉ ุฅูุฌุงุจูุฉ ุชุฏูุนูู ููุฃูุงู."</p>
      </div>

      <!-- Prompt 3 -->
      <div class="card p-6 rounded-2xl">
        <div class="flex items-center gap-4 mb-3">
          <span class="text-4xl" style="color: var(--icon-color)">๐ฅ</span>
          <h3 class="text-2xl font-bold" style="color: var(--highlight)">ูุฏุฑูุจ ุงูุงูุถุจุงุท ุงูุตุงุฑู</h3>
        </div>
        <p class="text-base leading-relaxed">"ุฃูุช ูุฏุฑูุจู ุงูุนุณูุฑู ุงูุตุงุฑู. ุงุณุฃููู 10 ุฃุณุฆูุฉ ุฏูููุฉ ูููู ุฃูุฏุงูู ุงูุญุงููุฉ ูู ุงููุดุงุฑูุน ุฃู ุงูุนุงุฏุงุช ุงูููููุฉ. ุจุนุฏ ุฐููุ ุตููู ูู ุฎุทุฉ ุงูุถุจุงุทูุฉ ุตุงุฑูุฉ ุชูุฒูุน ููุชู ุจุฏูุฉ ูุชุญุฏุฏ ุฃููููุงุชูุ ูุงูุชุจูุง ููุฃู ุญูุงุชู ุชุนุชูุฏ ุนูููุง."</p>
      </div>

      <!-- Prompt 4 -->
      <div class="card p-6 rounded-2xl">
        <div class="flex items-center gap-4 mb-3">
          <span class="text-4xl" style="color: var(--icon-color)">๐</span>
          <h3 class="text-2xl font-bold" style="color: var(--highlight)">ุจูุงุก ูุธุงู ุงูุนุงุฏุงุช ุงูุฐููุฉ</h3>
        </div>
        <p class="text-base leading-relaxed">"ุฃุฑูุฏู ุฃู ุชุณุฃููู 7 ุฃุณุฆูุฉ ูููู ุฑูุชููู ุงูุญุงูู ูุนุงุฏุงุชู ุงูุฌูุฏุฉ ูุงูุณูุฆุฉุ ุฎุงุตุฉ ูููุง ูุชุนูู ุจุนุงุฏุงุชู. ุจุนุฏ ุฐููุ ุตูุบ ูู ุฎุทุฉ ูู 3 ุฎุทูุงุช ุนูููุฉ ูุจูุงุก ุนุงุฏุงุช ุฃููู ูุฃูุซุฑ ุงุณุชุฏุงูุฉุ ูุน ูุตุงุฆุญ ูุชุฌูุจ ุงูุนูุฏุฉ ุฅูู ุงูููุถู."</p>
      </div>

      <!-- Prompt 5 -->
      <div class="card p-6 rounded-2xl">
        <div class="flex items-center gap-4 mb-3">
          <span class="text-4xl" style="color: var(--icon-color)">๐งฉ</span>
          <h3 class="text-2xl font-bold" style="color: var(--highlight)">ุญูุงุฑ ูุน ุฐุงุชู ุงูุญูููุฉ</h3>
        </div>
        <p class="text-base leading-relaxed">"ุชุฎููู ุฃูู ูุณุฎุฉ ููุณู ุงููุณุชูุจููุฉ ุงูุญูููุฉ ุจุนุฏ ุฎูุณ ุณููุงุช. ุงุทุฑุญ ุนูููู 6 ุฃุณุฆูุฉ ุนูููุฉ ูููู ุฃููููุงุชู ููุดุงุนุฑู ููุฎุงููู ุงูุญุงููุฉุ ุซู ูุฏูู ูู ุฑุณุงูุฉ ูุฎุชุตุฑุฉ ููููุฉ ุชูุฎูุต ูุง ุฃุญุชุงุฌ ุณูุงุนู ุงูุขู ูุงุณุชุนุงุฏุฉ ุชูุงุฒูู ูุชูุฌูู ุทุงูุชู."</p>
      </div>
    </section>

    <!-- Tips -->
    <section class="mt-12 max-w-3xl text-center space-y-3">
      <h2 class="text-2xl font-bold" style="color: var(--title-color)">ูุตุงุฆุญ ูุงุณุชุฎุฏุงู ุงูุจุฑููุจุชุงุช ุจูุนุงููุฉ ๐ฏ</h2>
      <p class="text-base opacity-90">ูู ุตุฑูุญูุง ูุน ููุณู: ูููุง ููุช ุฃูุซุฑ ุชุญุฏูุฏูุง ูู ุฅุฏุฎุงู ุชูุงุตูู ูุดุงูููุ ุญุตูุช ุนูู ูุชุงุฆุฌ ุฃุฏู.</p>
      <p class="text-base opacity-90">ุงุทูุจ ุฎุทุทูุง ุนูููุฉ: ูุง ุชูุชูู ุจุงููุตุงุฆุญุ ุงุทูุจ ุฎุทูุงุช ูุฌุฏุงูู ุฒูููุฉ.</p>
      <p class="text-base opacity-90">ุงุณุชุฎุฏู ุงูุจุฑููุจุชุงุช ุฏูุฑููุง: ุฃุนุฏ ุชุดุบูููุง ูู ูุชุฑุฉ ูุชูููู ุชุทูุฑู.</p>
      <p class="text-base opacity-90">ุงุฏูุฌูุง ูุน ุฃุฏูุงุชู ุงูููููุฉ: ููููู ุฑุจุท ูุฐู ุงูุจุฑููุจุชุงุช ูุน ุชุทุจููุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุชุชุจุน ุงูุชูุฏู ูุชูุธูู ุงูุฃูุฏุงู.</p>
    </section>

    <!-- Footer -->
    <footer class="mt-12 text-center space-y-4">
      <div class="text-lg font-semibold" style="color: var(--title-color)">ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุชูุฌูุฑ ุทุงูุชู ูุชุนุฒูุฒ ุฅุจุฏุงุนู</div>
      <div>
        <!-- ูุฏ ูุณุจุจ ูุฐุง ุงููุตุฏุฑ ุงูุฎุงุฑุฌู ูุดููุฉ CORS ุฃุซูุงุก ุงูุชุตุฏูุฑุ ูุฐุง ูุนูููู ูุบูุฑ ุขูู ููููู ุฅุฎูุงุคู ุชููุงุฆููุง ุฅุฐุง ูุดู ุงูุชุตุฏูุฑ. -->
        <img data-export-safe="false" crossorigin="anonymous" src="https://api.qrserver.com/v1/create-qr-code/?data=https://mohasharif.github.io/Philomoha/&size=120x120" alt="QR Code" class="mx-auto mt-2 shadow-md rounded-xl">
        <p class="mt-2 text-sm opacity-80">ุงูุณุญ ุงูููุฏ ูููุตูู ุฅูู ุงููุฒูุฏ ูู ุงูููุงุฑุฏ</p>
      </div>
    </footer>

    <!-- Hidden small test card for exporter self-test -->
    <div id="testCard" class="card p-4 rounded-2xl mt-8 max-w-xs text-center hidden">
      <div class="text-xl font-bold" style="color:var(--title-color)">ุจุทุงูุฉ ุงุฎุชุจุงุฑ</div>
      <div class="mt-1 text-sm" style="color:var(--highlight)">ูุฌุจ ุฃู ุชุธูุฑ ูุฐู ุงูุจุทุงูุฉ ุจููุณ ุงูุฃุณููุจ ุนูุฏ ุงูุชุตุฏูุฑ</div>
    </div>
  </main>

  <!-- Export logic with robust fallbacks and tests -->
  <script>
    // Dynamic loader helper
    function loadScript(src){
      return new Promise((resolve,reject)=>{
        const s=document.createElement('script');
        s.src=src; s.async=true; s.onload=()=>resolve(true); s.onerror=()=>reject(new Error('Failed to load '+src));
        document.head.appendChild(s);
      });
    }

    async function ensureExporter(){
      const statusEl = document.getElementById('libStatus');
      if(window.htmlToImage){ statusEl.textContent = 'ุงููุญุฑูู: html-to-image (ุฌุงูุฒ)'; return 'html-to-image'; }
      // Try jsDelivr first (ุจุนุถ ุงูุจูุฆุงุช ุชุญุธุฑ unpkg)
      try{ await loadScript('https://cdn.jsdelivr.net/npm/html-to-image@1.11.11/dist/html-to-image.min.js'); }
      catch(e){ /* ignore */ }
      if(window.htmlToImage){ statusEl.textContent = 'ุงููุญุฑูู: html-to-image ูู jsDelivr'; return 'html-to-image'; }
      // Fallback to html2canvas
      if(window.html2canvas){ statusEl.textContent = 'ุงููุญุฑูู: html2canvas (ุฌุงูุฒ)'; return 'html2canvas'; }
      try{ await loadScript('https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js'); }
      catch(e){ /* ignore */ }
      if(window.html2canvas){ statusEl.textContent = 'ุงููุญุฑูู: html2canvas ูู CDNJS'; return 'html2canvas'; }
      statusEl.textContent = 'ุงููุญุฑูู: ุบูุฑ ูุชููุฑ โ ุชุนุฐูุฑ ุชุญููู ุงูููุชุจุงุช';
      throw new Error('Exporter library unavailable');
    }

    async function exportAs(type){
      const poster = document.getElementById('poster');
      const statusEl = document.getElementById('libStatus');
      const btn = type==='png' ? document.getElementById('downloadPng') : document.getElementById('downloadJpg');
      btn.disabled = true; const old = btn.textContent; btn.textContent = 'โณ ุฌุงุฑู ุงูุชุตุฏูุฑโฆ';
      try{
        const engine = await ensureExporter();
        let dataUrl;
        if(engine==='html-to-image'){
          try{
            dataUrl = await window.htmlToImage.toPng(poster, {pixelRatio:3, cacheBust:true, width:1080, height:1350, backgroundColor:'#0A0F29'});
          }catch(e){
            console.warn('html-to-image failed, falling back to html2canvas', e);
          }
        }
        if(!dataUrl){
          // Fallback to html2canvas, handle possible CORS by temporarily hiding unsafe externals
          const hide = [];
          poster.querySelectorAll('[data-export-safe="false"]').forEach(el=>{ hide.push([el, el.style.visibility]); el.style.visibility='hidden'; });
          const canvas = await window.html2canvas(poster, {scale:3, useCORS:true, backgroundColor:null, width:1080, height:1350, windowWidth:1080, windowHeight:1350});
          hide.forEach(([el,v])=>{ el.style.visibility=v; });
          dataUrl = (type==='jpg') ? canvas.toDataURL('image/jpeg', 0.95) : canvas.toDataURL('image/png');
        }
        const a = document.createElement('a');
        a.download = type==='jpg' ? 'poster-ai-prompts.jpg' : 'poster-ai-prompts.png';
        a.href = dataUrl; a.click();
        statusEl.textContent = 'ุชู ุงูุชุตุฏูุฑ ุจูุฌุงุญ';
      }catch(err){
        console.error(err);
        alert('ุชุนุฐูุฑ ุฅูุดุงุก ุงูุตูุฑุฉ ุชููุงุฆููุง. ุฅู ุงุณุชูุฑุช ุงููุดููุฉ ุฃุฎุจุฑูู ูุฃุฑุณู ูู ุจุฏููุงู.');
      }finally{
        btn.disabled = false; btn.textContent = old;
      }
    }

    // Self tests
    async function runSelfTest(){
      const statusEl = document.getElementById('libStatus');
      try{
        const engine = await ensureExporter();
        statusEl.textContent = 'ุงุฎุชุจุงุฑ: ุงููุญุฑู ุงููุณุชุฎุฏู โ ' + engine;
        // Create a tiny sample export
        const card = document.getElementById('testCard');
        card.classList.remove('hidden');
        if(engine==='html-to-image'){
          const dataUrl = await window.htmlToImage.toPng(card, {pixelRatio:2, cacheBust:true});
          if(!dataUrl.startsWith('data:image/png')) throw new Error('Sample export failed');
        } else {
          const canvas = await window.html2canvas(card, {scale:2, useCORS:true, backgroundColor:null});
          const dataUrl = canvas.toDataURL('image/png');
          if(!dataUrl.startsWith('data:image/png')) throw new Error('Sample export failed');
        }
        statusEl.textContent += ' โ โ ูุฌุญ ุงุฎุชุจุงุฑ ุงูุนููุฉ';
        card.classList.add('hidden');
      }catch(e){
        console.error(e);
        statusEl.textContent = 'โ ูุดู ุงูุงุฎุชุจุงุฑ: ' + (e.message||e);
      }
    }

    document.getElementById('downloadPng').addEventListener('click', ()=>exportAs('png'));
    document.getElementById('downloadJpg').addEventListener('click', ()=>exportAs('jpg'));
    document.getElementById('selfTest').addEventListener('click', runSelfTest);

    // Initial probe
    (async()=>{ try{ await ensureExporter(); }catch(e){} })();
  </script>
</body>
</html>
